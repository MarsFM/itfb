export class Server{constructor(){this.baseUrl="https://jsonplaceholder.typicode.com/photos"}getAlbums(e){return fetch(this.baseUrl,{mode:"cors"}).then(e=>e.json()).then(t=>new Promise(s=>{s(t.filter(t=>t.id<=e))})).catch(e=>{console.log(e)})}}export class Loader{constructor(e){this.elem=e,this.message=document.createElement("div"),this.message.classList.add("loader")}start(){this.message.innerHTML="Идёт загрузка",this.elem.append(this.message)}stop(){this.message.remove()}}export class Element{constructor(e){this.type=e,this.elem=document.createElement(this.type)}addClass(e){this.elem.classList.add(e)}addText(e){this.elem.innerHTML=e}setAttr(e,t){this.elem.setAttribute(e,t)}setInside(e){e.append(this.elem)}render(){return this.elem}}export const elemBlocks={main(){const e=new Element("div");return e.addClass("block"),e},img(e,t){const s=new Element("img");return s.addClass("block__img"),s.setAttr("src",t),s.setInside(e),s},info(e){const t=new Element("div");return t.addClass("block__info"),t.setInside(e),t},text(e,t){const s=new Element("p");return s.addText(t),s.setInside(e),s},id(e,t){const s=new Element("span");s.addClass("block__id"),s.addText(t),s.setInside(e)}};const container=document.querySelector(".container"),countElement=document.querySelector(".info__count"),server=new Server,loader=new Loader(container);async function init(e){const t=await getAlbums(e.count);addToContainer(t),setCountElements(t),loader.stop()}async function getAlbums(e){return(await server.getAlbums(e)).map(e=>createBlock(e))}const createBlock=e=>{const t=elemBlocks.main(),s=(elemBlocks.img(t.render(),e.url),elemBlocks.info(t.render())),n=elemBlocks.text(s.render(),e.title),r=elemBlocks.text(s.render(),"albumId:");elemBlocks.id(r.render(),e.albumId);return n.addClass("block__title"),r.addClass("block__text"),r.addClass("block__text_dark"),t.render()},addToContainer=e=>{container.append(...e)},setCountElements=e=>{countElement.innerHTML=e.length};loader.start(),init({count:20});
//# sourceMappingURL=main.js.map
